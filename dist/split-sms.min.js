!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.splitter=t()}}(function(){return function t(e,r,n){function o(i,s){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[i]={exports:{}};e[i][0].call(f.exports,function(t){var r=e[i][1][t];return o(r?r:t)},f,f.exports,t,e,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,r){function n(t){return t>=55296&&56319>=t}var o=t("./gsmvalidator");e.exports.split=function(t,e){function r(){var t={content:e.summary?void 0:f,length:i,bytes:s};a.push(t),l+=i,i=0,u+=s,s=0,f=""}if(e=e||{summary:!1},""===t)return{parts:[{content:e.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var a=[],i=0,s=0,u=0,l=0,f="",c=0,d=t.length;d>c;c++){var p=t.charAt(c);o.validateCharacter(p)?o.validateExtendedCharacter(p)&&(152===s&&r(),s++):(n(p.charCodeAt(0))&&c++,p=" "),s++,i++,e.summary||(f+=p),153===s&&r()}return s>0&&r(),a[1]&&160>=u?{parts:[{content:e.summary?void 0:a[0].content+a[1].content,length:l,bytes:u}],totalLength:l,totalBytes:u}:{parts:a,totalLength:l,totalBytes:u}}},{"./gsmvalidator":2}],2:[function(t,e,r){function n(t){return i.indexOf(t.charCodeAt(0))>-1}function o(t){for(var e=0;e<t.length;e++)if(!n(t.charAt(e)))return!1;return!0}function a(t){return s.indexOf(t.charCodeAt(0))>-1}var i=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,163,164,165,167,191,196,197,198,199,201,209,214,216,220,223,224,228,229,230,232,233,236,241,242,246,248,249,252,915,916,920,923,926,928,931,934,936,937,8364],s=[12,91,92,93,94,123,124,125,126,8364];e.exports.validateCharacter=n,e.exports.validateMessage=o,e.exports.validateExtendedCharacter=a},{}],3:[function(t,e,r){function n(t,e,r,n){var o=1===t.length?e:r;return(o-t[t.length-1].bytes)/n}var o=t("./gsmvalidator"),a=t("./gsmsplitter"),i=t("./unicodesplitter"),s=e.exports.UNICODE="Unicode",u=e.exports.GSM="GSM";Object.defineProperty(e.exports,"UNICODE",{writable:!1}),Object.defineProperty(e.exports,"GSM",{writable:!1}),e.exports.split=function(t,e){var r=e&&e.characterset;e={summary:e&&e.summary};var l,f,c,d,p=void 0===r&&o.validateMessage(t)||r===u;p?(l=a.split(t,e),f=160,c=153,d=1):(l=i.split(t,e),f=140,c=134,d=2);var v=n(l.parts,f,c,d);return{characterSet:p?u:s,parts:l.parts,bytes:l.totalBytes,length:l.totalLength,remainingInPart:v}}},{"./gsmsplitter":1,"./gsmvalidator":2,"./unicodesplitter":4}],4:[function(t,e,r){function n(t){return t>=55296&&56319>=t}e.exports.split=function(t,e){function r(r){var n={content:e.summary?void 0:r?t.substring(l,r+1):t.substring(l),length:a,bytes:i};o.push(n),l=r+1,u+=a,a=0,s+=i,i=0}if(e=e||{summary:!1},""===t)return{parts:[{content:e.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var o=[],a=0,i=0,s=0,u=0,l=0,f=0,c=t.length;c>f;f++){var d=t.charCodeAt(f),p=n(d);p&&(132===i&&r(f-1),i+=2,f++),i+=2,a++,134===i&&r(f)}return i>0&&r(),o[1]&&140>=s?{parts:[{content:e.summary?void 0:t,length:u,bytes:s}],totalLength:u,totalBytes:s}:{parts:o,totalLength:u,totalBytes:s}}},{}]},{},[3])(3)});